<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ingreso de productos</title>
</head>
<body>
	<h3>ingreso dde productos</h3><br>
	<p>
		ingrese nombre: <input type="text" name="nom" id="nom"><br>
		ingrese cantidad: <input type="text" name="can" id="can"><br>
		ingrese valor unitario: <input type="text" name="vun" id="vun"><br>
		<button onclick="ingresar();">ingresar</button>
	</p>
	<p id="muestra"></p><br>
	<button onclick="iva();">valor de pedido</button>
	<p id="iva"></p><br>
	<button onclick="otra();">otra</button>
	<p id="otra"></p>

	<script type="text/javascript">
		let lista=[];
		function otra(){
			document.getElementById('otra').innerHTML=lista[0].ivva();;
		}
		function iva(){
			obj.prototype.ivva=function(){
				let monto=this.total()*0.19;
				return monto;
			};
			let sumaiva=0;
			let sumatotal=0;
			let neto=0;
			for (var i = 0; i <lista.length; i++) {
				sumaiva+=lista[i].ivva();
				sumatotal+=lista[i].total();
			}
			neto=sumatotal+sumaiva;
			let txt="bruto: "+sumatotal+"<br>";
			txt+="iva: "+sumaiva+"<br>";
			txt+="neto: "+neto+"<br>";
			document.getElementById('iva').innerHTML=txt;
		}

		function ingresar(){
			let no=document.getElementById('nom').value;
			let ca=document.getElementById('can').value;
			let vu=document.getElementById('vun').value;
			let ele=new obj(no,ca,vu);
			lista.push(ele);
			limpiar();
			mostrar();
		}
		function obj(nombre,cantidad,valorun){
			this.nombre=nombre;
			this.cantidad=cantidad;
			this.valorun=valorun;
			this.total=function(){
				let rea=parseInt(this.cantidad)*parseInt(this.valorun);
				return rea;
			};
		}
		function mostrar(){
			let contenido="<table border='1'>";
			contenido+="<tr><td>nombre</td><td>cantidad</td><td>valor UN</td><td>total</td></tr>";
			for (var i = 0; i <lista.length; i++) {
				contenido+=  "<tr><td>"+lista[i].nombre+
							"</td><td>"+lista[i].cantidad+
							"</td><td>"+lista[i].valorun+
							"</td><td>"+lista[i].total()+
							"</td></tr>";
			}
			contenido+="</table>";
			document.getElementById('muestra').innerHTML=contenido;
		}
		function limpiar(){
			document.getElementById('nom').value="";
			document.getElementById('can').value="";
			document.getElementById('vun').value="";
			document.getElementById('nom').focus();
		}
	</script>
</body>
</html>
<!--
    Tarea asincrónica:
Implemente una pagina web donde se ingresen los datos de un producto mediante
input’s(nombre, valor, cantidad) y con una función javascript cree un objeto, con un botón
extra implemente otra función javascript con la cual agregue una función la cual me
entregue el valor del pedido del producto.
-->